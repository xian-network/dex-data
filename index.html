<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XIAN DEX Chart</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #1a1a1a;
            color: #d4d4d4;
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        #chart-container {
            flex: 1;
            position: relative;
            width: 100%;
            height: calc(70vh - 120px);
            background-color: #1a1a1a;
            border-bottom: 1px solid #2a2a2a;
        }

        #trade-history {
            height: 30vh;
            overflow-y: auto;
            background-color: #1a1a1a;
            padding: 20px;
        }

        .trade-history-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        .trade-history-table th {
            background-color: #2a2a2a;
            color: #00ffff;
            padding: 12px;
            text-align: left;
            font-weight: 500;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .trade-history-table td {
            padding: 8px 12px;
            border-bottom: 1px solid #2a2a2a;
        }

        .trade-history-table tr:hover {
            background-color: #2a2a2a;
        }

        .buy-row td {
            color: #0066ff;
        }

        .sell-row td {
            color: #9933ff;
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1a1a1a;
        }

        ::-webkit-scrollbar-thumb {
            background: #2a2a2a;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #3a3a3a;
        }

        /* Loading and error states */
        #loading, #error {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            border-radius: 8px;
            background-color: #2a2a2a;
            border: 1px solid #3a3a3a;
            color: #00ffff;
            font-size: 14px;
            display: none;
        }

        #error {
            color: #ff0099;
            border-color: #ff009950;
        }

        /* Select dropdowns hover and focus states */
        select:hover {
            border-color: #00ffff50 !important;
        }

        select:focus {
            outline: none;
            border-color: #00ffff !important;
            box-shadow: 0 0 0 2px rgba(0, 255, 255, 0.2);
        }

        /* Toggle button styling */
        .toggle-button {
            background-color: #2a2a2a !important;
            color: #00ffff !important;
            border: 1px solid #3a3a3a !important;
            transition: all 0.3s ease !important;
        }

        .toggle-button:hover {
            background-color: #3a3a3a !important;
            border-color: #00ffff50 !important;
        }

        #header-bar {
            display: flex;
            flex-wrap: wrap; /* Allow items to wrap on smaller screens */
            align-items: center; /* Vertically align items */
            justify-content: flex-start; /* Align items to the start */
            padding: 10px;
            background-color: #1f1f1f; /* Slightly different from chart bg for distinction */
            border-bottom: 1px solid #2a2a2a;
            gap: 20px; /* Gap between direct children (selector-container and toggle-container) */
        }

        /* Adjustments for the containers within the header bar if needed */
        /* The .selector-container already has flex styles from JS, ensure they don't conflict */
        /* We might remove background and padding from .selector-container if header-bar provides it */
        .selector-container {
            /* background-color: transparent !important; /* Override JS style */
            /* padding: 0 !important; */ /* Override JS style */
            /* box-shadow: none !important; */ /* Override JS style */
            /* These overrides might be needed if JS styles are too specific */
        }

        /* Style the toggle button to fit the dark theme */
        /* Styles for .toggle-button are already present and seem mostly compatible.
           We'll ensure padding, border-radius, and cursor are explicitly defined here
           if not already covered or if needing override without !important for these specific properties.
           The background, color, and border are already using !important from existing rules.
        */
        .toggle-button {
            border-radius: 4px; /* Ensure border-radius */
            padding: 8px 12px; /* Ensure padding */
            cursor: pointer; /* Ensure cursor */
            /* background-color, color, border, transition are already defined with !important */
            /* transition: background-color 0.3s ease, border-color 0.3s ease; */ /* Already defined */
        }

        .toggle-button:hover {
            /* background-color and border-color hover effects are already defined with !important */
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            #header-bar {
                flex-direction: column; /* Stack items vertically */
                align-items: stretch; /* Stretch items to full width */
                gap: 10px; /* Reduce gap for stacked items */
            }

            .selector-container {
                flex-direction: column; /* Stack selectors and labels */
                align-items: stretch; /* Stretch items */
                width: 100%; /* Take full width */
                gap: 8px; /* Gap between label and select */
            }

            .selector-container label {
                margin-bottom: 4px; /* Space below label */
            }

            .pair-select, .timeframe-select {
                width: 100%; /* Make selects take full width */
            }

            .toggle-container {
                width: 100%; /* Make toggle container take full width */
                display: flex; /* To allow button centering or full width */
            }

            .toggle-button {
                flex-grow: 1; /* Make button take full width if desired */
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div id="header-bar"></div>
    <div id="chart-container">
        <div id="loading">Loading...</div>
        <div id="error"></div>
    </div>
    <div id="trade-history">
        <table class="trade-history-table">
            <thead>
                <tr>
                    <th>Time</th>
                    <th>Type</th>
                    <th>Price</th>
                    <th>Amount</th>
                    <th>Value</th>
                    <th>Address</th>
                </tr>
            </thead>
            <tbody id="trade-history-body">
            </tbody>
        </table>
    </div>
    <script src="https://unpkg.com/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js"></script>
    <script src="chart.js"></script>
</body>
</html> 