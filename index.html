<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XIAN DEX Chart</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #14181F; /* Updated */
            color: #E0E0E0; /* Updated */
            font-family: 'Inter', sans-serif;
            font-size: 14px; /* Added */
            line-height: 1.5; /* Added */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        #chart-container {
            flex: 1;
            position: relative;
            width: 100%;
            height: calc(70vh - 120px);
            background-color: #14181F; /* Updated - same as body */
            border-bottom: 1px solid #333A47; /* Updated */
        }

        #trade-history {
            height: 30vh;
            overflow-y: auto;
            background-color: #14181F; /* Updated - same as body */
            padding: 20px;
        }

        .trade-history-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px; /* Updated */
        }

        .trade-history-table th {
            background-color: #333A47; /* Updated */
            color: #00A3FF; /* Updated */
            padding: 10px 12px; /* Updated */
            text-align: left;
            font-weight: 600; /* Updated */
            font-size: 12px; /* Added */
            letter-spacing: 0.5px; /* Added */
            text-transform: uppercase; /* Added */
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .trade-history-table td {
            padding: 10px 12px; /* Updated */
            border-bottom: 1px solid #333A47; /* Updated */
            line-height: 1.4; /* Added */
        }

        .trade-history-table tr:hover {
            background-color: #252B36; /* Updated */
        }

        .buy-row td {
            color: #26A69A; /* Updated */
        }

        .sell-row td {
            color: #EF5350; /* Updated */
        }

        .trade-history-table .trade-signer a { /* Added new rule */
            color: #00A3FF;
            text-decoration: none;
            font-weight: 500;
        }

        .trade-history-table .trade-signer a:hover { /* Added new rule */
            text-decoration: underline;
            color: #008BCC;
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #14181F; /* Updated */
        }

        ::-webkit-scrollbar-thumb {
            background: #333A47; /* Updated */
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #4C5566; /* Updated */
        }

        /* Loading and error states */
        #loading, #error {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            border-radius: 8px;
            background-color: #252B36; /* Updated */
            border: 1px solid #333A47; /* Updated */
            color: #00A3FF; /* Updated for loading */
            font-size: 14px; /* Confirmed */
            line-height: 1.6; /* Added */
            text-align: center; /* Added */
            display: none;
        }

        #error {
            color: #FF5252; /* Updated */
            border-color: rgba(255, 82, 82, 0.31); /* Updated */
            text-align: center; /* Added */
        }

        /* Select dropdowns hover and focus states */
        /* General select styling first */
        select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-color: #1E222B;
            color: #E0E0E0;
            border: 1px solid #333A47;
            border-radius: 4px;
            padding: 8px 28px 8px 12px;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23E0E0E0%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.4-12.8z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 10px 10px;
            min-width: 200px; /* Moved from JS */
        }

        select:hover {
            border-color: rgba(0, 163, 255, 0.5) !important; /* Updated opacity */
        }

        select:focus {
            outline: none;
            border-color: #00A3FF !important; /* Updated */
            box-shadow: 0 0 0 2px rgba(0, 163, 255, 0.2) !important; /* Updated */
        }

        /* Toggle button styling */
        .toggle-button {
            background-color: #252B36 !important; /* Updated */
            color: #00A3FF !important; /* Updated */
            border: 1px solid #333A47 !important; /* Updated */
            font-size: 13px; /* Added */
            padding: 8px 12px; /* Ensured */
            border-radius: 4px; /* Ensured */
            transition: all 0.3s ease !important;
        }

        .toggle-button:hover {
            background-color: #333A47 !important; /* Updated */
            border-color: rgba(0, 163, 255, 0.5) !important; /* Updated opacity */
        }

        .toggle-button:active {
            background-color: #3A4250 !important;
        }

        .toggle-button:focus {
            outline: none !important;
            box-shadow: 0 0 0 2px rgba(0, 163, 255, 0.2) !important;
        }

        #header-bar {
            display: flex;
            flex-wrap: wrap; /* Allow items to wrap on smaller screens */
            align-items: center; /* Vertically align items */
            justify-content: flex-start; /* Align items to the start */
            padding: 10px 15px; /* Updated */
            background-color: #1E222B; /* Updated */
            border-bottom: 1px solid #333A47; /* Updated */
            gap: 15px; /* Updated */
        }

        /* Adjustments for the containers within the header bar if needed */
        /* The .selector-container already has flex styles from JS, ensure they don't conflict */
        /* We might remove background and padding from .selector-container if header-bar provides it */
        .selector-container {
            background-color: #1E222B !important; /* Updated - Override JS style */
            /* padding: 0 !important; */ /* Override JS style */
            /* box-shadow: none !important; */ /* Override JS style */
            /* These overrides might be needed if JS styles are too specific */
        }

        .selector-container label { /* Added new rule */
            font-size: 12px; /* Added */
            font-weight: 500; /* Added */
        }

        .pair-select, .timeframe-select {
            font-size: 13px; /* Added */
            /* Specific overrides for select if needed, otherwise inherits from global select */
        }

        /* Style the toggle button to fit the dark theme */
        /* Styles for .toggle-button are already present and seem mostly compatible.
           We'll ensure padding, border-radius, and cursor are explicitly defined here
           if not already covered or if needing override without !important for these specific properties.
           The background, color, and border are already using !important from existing rules.
        */
        .toggle-button {
            /* border-radius: 4px; */ /* Moved to main rule */
            /* padding: 8px 12px; */ /* Moved to main rule */
            cursor: pointer; /* Ensure cursor */
            /* background-color, color, border, transition are already defined with !important */
            /* transition: background-color 0.3s ease, border-color 0.3s ease; */ /* Already defined */
        }
        /* .toggle-button:hover is already defined above */

        /* Responsive adjustments */
        @media (max-width: 768px) {
            #header-bar {
                flex-direction: column; /* Stack items vertically */
                align-items: stretch; /* Stretch items to full width */
                gap: 10px; /* Reduce gap for stacked items */
            }

            .selector-container {
                flex-direction: column; /* Stack selectors and labels */
                align-items: stretch; /* Stretch items */
                width: 100%; /* Take full width */
                gap: 8px; /* Gap between label and select */
            }

            .selector-container label {
                margin-bottom: 4px; /* Space below label */
            }

            .pair-select, .timeframe-select {
                width: 100%; /* Make selects take full width */
            }

            .toggle-container {
                width: 100%; /* Make toggle container take full width */
                display: flex; /* To allow button centering or full width */
            }

            .toggle-button {
                flex-grow: 1; /* Make button take full width if desired */
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div id="header-bar"></div>
    <div id="chart-container">
        <div id="loading">Loading...</div>
        <div id="error"></div>
    </div>
    <div id="trade-history">
        <table class="trade-history-table">
            <thead>
                <tr>
                    <th>Time</th>
                    <th>Type</th>
                    <th>Price</th>
                    <th>Amount</th>
                    <th>Value</th>
                    <th>Address</th>
                </tr>
            </thead>
            <tbody id="trade-history-body">
            </tbody>
        </table>
    </div>
    <script src="https://unpkg.com/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js"></script>
    <script src="chart.js"></script>
</body>
</html> 